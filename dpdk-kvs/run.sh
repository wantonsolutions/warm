#!/bin/bash
rburst="1"
wburst="1"
nicbufs="32"
export KEY_SIZE=4
export VALUE_SIZE=1024
make -j 8
cp build/kvs ./

#sudo -E ./kvs -l 0-5 -n 5 -- --rx="(0,0,0),(0,1,1),(0,2,2),(0,3,3)" --tx="(0,4)" --w="5" --rsz "4,4,4,4" --bsz="(1,1), (1,1), (1,1)" --lpm="192.0.0.0/8=>0;" --pos-lb 29 
#sudo -E ./kvs -l 0,2,4,6,8,10 -n 5 -- --rx="(0,0,0),(0,1,2),(0,2,4),(0,3,6)" --tx="(0,8)" --w="10" --rsz "32,32,32,32" --bsz="($rburst,$wburst), ($rburst,$wburst), ($rburst,$wburst)" --lpm="192.0.0.0/8=>0;"
#sudo -E ./kvs -l 0,2,4,6,8,10 -n 5 -- --rx="(0,0,0),(0,1,2),(0,2,4),(0,3,6)" --tx="(0,8)" --w="10" --rsz "32,32,32,32" --bsz="($nicbufs,$wburst), ($rburst,$wburst), ($rburst,$nicbufs)" --lpm="192.168.0.0/16=>0;"
#sudo -E ./kvs -l 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40 -n 18 -- --rx="(0,0,0),(0,1,2),(0,2,4),(0,3,6)" --tx="(0,8)" --w="10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40" --rsz "32,32,32,32" --bsz="($nicbufs,1), (1,1), (1,$nicbufs)" --lpm="192.168.0.0/16=>0;"
sudo -E ./kvs -l 0,2,4,6,8,10,12,14,16,18,20,22,24 -n 18 -- --rx="(0,0,0),(0,1,2),(0,2,4),(0,3,6)" --tx="(0,8)" --w="10,12,14,16,18,20,22,24" --rsz "32,32,32,32" --bsz="($nicbufs,1), (1,1), (1,$nicbufs)" --lpm="192.168.0.0/16=>0;"
#sudo -E ./kvs -l 0,2 -n 2 -- --rx="(0,0,0)" --tx="(0,0)" --w="2" --rsz "32,32,32,32" --bsz="($nicbufs,1), (1,1), (1,$nicbufs)" --lpm="192.168.0.0/16=>0;"

#–bsz “(A, B), (C, D), (E, F)”:
