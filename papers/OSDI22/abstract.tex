\begin{abstract}

Effectively sharing passive remote memory has proven challenging
despite the advent of sophisticated RDMA hardware.
%Fundamentally, any
%design must choose a serialization point and then ensure in-order
%communication and operation from that point on.
Most performant
existing solutions employ optimistic concurrency approaches that defer
serialization until the remote memory server and rely upon heavyweight
RDMA atomics to ensure consistency.  Unfortunately,
such approaches degrade rapidly under contention, and atomic
operations scale poorly on existing hardware.

We present \sword, an alternative approach that leverages the de-facto
serialization point in rack-scale disaggregated systems---the
top-of-rack switch---to \emph{transparently} resolve data races in
flight, avoiding the latency involved in client-based reconciliation.
Moreover, {\sword} can exploit RDMA transport ordering to remove the
need for heavyweight atomic verbs.  Under a 50:50 read-write workload,
our DPDK-based prototype dramatically improves the
performance of Clover, a state-of-the-art disaggregated key/value
store: throughput rises by nearly $3\times$, tail latency drops by
over $36\times$, and bandwidth usage cuts almost in half.
Further, by removing RDMA atomics, we 
avoid hardware-imposed scalability limits.
%of $\approx$2.7 MOP/s per queue pair.
  
%% Disaggregating memory from compute incurs extreme latency
%% penalties. These penalties are multiplied when remote memory is shared
%% and contended for. State of the art approaches for mitigating the cost
%% of contention use mostly lock-less data structures for accessing and
%% modifying remote memory with common case O(1) operations.
%% Unfortunately in the face of even modestly contended resources
%% opportunistic algorithms incur extreme performance degradation due to
%% multiple round trip times, and expensive atomic memory operations such
%% as compare and swap.

%% We present \sword, an in-network serializer

%% In this work we make the observation that all memory operations in a
%% rack scale disaggregation system pass through a centralized switch
%% which must serialize all remote memory accesses on the wire. We use
%% this implicit serialization to arbitrate access to rack scale
%% memory. We use Clover (a state of the art disaggregated key value
%% store) to show that our approach removes all conflict, and can provide
%% serialization which allows for the removal of expensive atomic locking
%% operations.

\end{abstract}
